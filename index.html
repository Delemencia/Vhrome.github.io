<!DOCTYPE html>
<html>
<head>
<title>MAKE CODE! Vhrome.org</title>
<style>
  :root { --bg: #f2f2f2; --tab-inactive: #bcbcbc; --text: #5a5a5a; --border: #d2d2d2; }
  body, html { margin: 0; padding: 0; height: 100%; font-family: "Segoe UI", Tahoma, sans-serif; overflow: hidden; background-color: var(--bg); }
  .browser { display: flex; flex-direction: column; height: 100vh; }
  .tab-strip { background: #d0d0d0; padding-top: 8px; display: flex; align-items: flex-end; padding-left: 8px; border-bottom: 1px solid #999; height: 34px; }
  .vhrome-logo { font-weight: bold; color: var(--text); font-size: 14px; margin-right: 15px; margin-bottom: 5px; font-style: italic; cursor: pointer; }
  .tab { position: relative; height: 28px; width: 160px; background: var(--tab-inactive); margin-right: -15px; display: flex; align-items: center; padding-left: 20px; font-size: 11px; clip-path: polygon(10% 0, 90% 0, 100% 100%, 0% 100%); border-top: 1px solid #aaa; cursor: pointer; z-index: 1; }
  .tab.active { background: var(--bg); z-index: 5; height: 30px; border-top: 1px solid #bababa; }
  .tab-close { position: absolute; right: 18px; font-size: 12px; display: none; }
  .tab.active .tab-close { display: block; }
  .new-tab-btn { width: 28px; height: 18px; background: var(--tab-inactive); margin-left: 20px; margin-bottom: 4px; transform: skewX(25deg); border-radius: 2px; border: 1px solid #aaa; cursor: pointer; }
  .toolbar { background: var(--bg); padding: 4px 8px; display: flex; align-items: center; gap: 8px; border-bottom: 1px solid var(--border); position: relative; }
  .nav-btn { color: var(--text); font-size: 18px; cursor: pointer; padding: 0 4px; user-select: none; position: relative; }
  .address-bar { flex-grow: 1; background: white; border: 1px solid #bebebe; border-radius: 2px; padding: 3px 8px; font-size: 13px; display: flex; align-items: center; }
  .address-bar input { border: none; outline: none; width: 100%; font-family: inherit; }
  .viewport-container { flex-grow: 1; background: white; position: relative; }
  iframe { width: 100%; height: 100%; border: none; display: none; background: white; }
  iframe.active { display: block; }
  .menu-dropdown { display: none; position: absolute; right: 0; top: 30px; background: white; border: 1px solid #ccc; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 100; min-width: 150px; }
  .menu-dropdown.show { display: block; }
  .menu-dropdown div { padding: 8px 12px; font-size: 12px; color: #333; border-bottom: 1px solid #eee; }
  .menu-dropdown div:last-child { border-bottom: none; }
  .menu-dropdown div:hover { background: #eee; }
  .menu-header { font-weight: bold; background: #f9f9f9 !important; font-size: 10px !important; color: #888 !important; pointer-events: none; }
</style>
</head>
<body>
<div class="browser">
  <div class="tab-strip" id="tabStrip">
    <div class="vhrome-logo" onclick="loadHome()">Vhrome</div>
    <div class="tab active" onclick="switchTab(0)" id="tab-0">
      <span class="tab-title">Vhrome UI Editor</span>
      <span class="tab-close" onclick="event.stopPropagation(); closeTab(0)">×</span>
    </div>
    <div class="new-tab-btn" onclick="addNewTab()"></div>
  </div>
  <div class="toolbar">
    <div class="nav-btn" onclick="reloadFrame()">&#8635;</div>
    <div class="address-bar">
      <input type="text" id="urlInput" placeholder="Type Vhrome.org or search..." onkeydown="if(event.key==='Enter') navigate()">
    </div>
    <div class="nav-btn" onclick="toggleMenu(event)">
        &#8942;
        <div class="menu-dropdown" id="myMenu">
            <div class="menu-header">TOOLS</div>
            <div onclick="loadHome()">HTML Editor</div>
            <div onclick="loadCSS()">CSS Editor</div>
            <div onclick="loadPython()">Python Editor</div>
            <div onclick="loadNotepad()">Notepad</div>
            <div class="menu-header">THEMES</div>
            <div onclick="setTheme('#f2f2f2', '#bcbcbc')">Light Theme</div>
            <div onclick="setTheme('#2c2c2c', '#444')">Dark Theme</div>
            <div onclick="setTheme('#e0f0ff', '#add8e6')">Blue Theme</div>
        </div>
    </div>
  </div>
  <div class="viewport-container" id="viewportContainer">
    <iframe id="frame-0" class="active"></iframe>
  </div>
</div>

<script>
  let tabCount = 1;
  let activeId = 0;

  const homeHTML = `<body style="font-family:sans-serif; text-align:center; padding:50px; background:#f9f9f9;"><h1 style="color:#5a5a5a; font-style:italic;">Welcome to Vhrome.org!</h1><p>Go to <b>css.org</b>, <b>python.org</b>, or <b>notepad.org</b></p><p>Type your HTML code below:</p><textarea id="code" style="width:80%; height:200px; padding:10px; border:1px solid #ccc; font-family:monospace;"></textarea><br><br><button onclick="run()" style="padding:10px 20px; cursor:pointer; background:#bcbcbc; border:1px solid #aaa;">Run HTML Code</button><script>function run() { const html = document.getElementById('code').value; document.body.innerHTML = html; }<\/script></body>`;

  const cssHTML = `<body style="font-family:sans-serif; text-align:center; padding:50px; background:#f9f9f9;"><h1 style="color:#5a5a5a; font-style:italic;">CSS UI Editor</h1><textarea id="cssCode" style="width:80%; height:150px; padding:10px; border:1px solid #ccc; font-family:monospace;">/* Try: body { background: gold; } */</textarea><br><br><button onclick="applyCSS()" style="padding:10px 20px; cursor:pointer; background:#bcbcbc; border:1px solid #aaa;">Apply CSS</button><div id="preview" style="margin-top:20px; padding:20px; border:1px dashed #999;">Preview Box</div><style id="dynamicStyle"></style><script>function applyCSS() { const css = document.getElementById('cssCode').value; document.getElementById('dynamicStyle').innerHTML = css; }<\/script></body>`;

  const pythonHTML = `<body style="font-family:sans-serif; text-align:center; padding:50px; background:#f0f0f0;"><h1 style="color:#3776ab;">Python.org Editor</h1><p>Wait for Python to load...</p><textarea id="pyCode" style="width:80%; height:150px; padding:10px; border:1px solid #ccc; font-family:monospace;">print("Hello from Vhrome!")\\nprint(2 + 2)</textarea><br><br><button id="runBtn" onclick="runPython()" style="padding:10px 20px; cursor:pointer; background:#3776ab; color:white; border:none; border-radius:4px;">Run Python</button><pre id="output" style="text-align:left; background:#222; color:#0f0; padding:15px; width:80%; margin:20px auto; min-height:50px; overflow:auto;"></pre><script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"><\/script><script>let pyodide; async function loadPy() { pyodide = await loadPyodide(); document.getElementById('runBtn').innerText = "Run Python"; } loadPy(); async function runPython() { const code = document.getElementById('pyCode').value; const output = document.getElementById('output'); output.innerText = "Running..."; try { pyodide.runPython("import sys\\nimport io\\nsys.stdout = io.StringIO()"); await pyodide.runPythonAsync(code); const stdout = pyodide.runPython("sys.stdout.getvalue()"); output.innerText = stdout; } catch (err) { output.innerText = err; } }<\/script></body>`;

  const notepadHTML = `<body style="margin:0; padding:0; background:white; font-family:'Lucida Console', monospace; display:flex; flex-direction:column; height:100vh;"><div style="background:#ebebeb; border-bottom:1px solid #ccc; display:flex; justify-content:space-between; align-items:center; padding:2px 5px; height:25px;"><div style="font-size:12px; font-family:sans-serif;">Untitled - Notepad</div><div style="display:flex; gap:10px; padding-right:5px;"><span style="cursor:pointer; font-size:14px;">_</span><span style="cursor:pointer; font-size:14px; border:1px solid #555; width:10px; height:10px; display:inline-block; margin-top:3px;"></span><span style="cursor:pointer; font-size:16px;">&times;</span></div></div><div style="background:#f0f0f0; border-bottom:1px solid #ccc; padding:2px 10px; font-size:12px; font-family:sans-serif; cursor:default;"><span onclick="saveFile()">File</span> &nbsp; Edit &nbsp; Format &nbsp; View &nbsp; Help</div><textarea id="noteArea" style="flex-grow:1; border:none; outline:none; padding:10px; resize:none; font-family:inherit; font-size:14px;" placeholder="Start typing..."></textarea><script>function saveFile(){const text = document.getElementById('noteArea').value; const blob = new Blob([text], {type:'text/plain'}); const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'note.txt'; a.click();}<\/script></body>`;

  window.onload = () => { document.getElementById('frame-0').srcdoc = homeHTML; };

  function toggleMenu(event) {
    event.stopPropagation();
    document.getElementById('myMenu').classList.toggle('show');
  }

  window.onclick = function(event) {
    const menu = document.getElementById('myMenu');
    if (menu && menu.classList.contains('show')) {
      menu.classList.remove('show');
    }
  }

  function loadHome() {
    document.getElementById('urlInput').value = "Vhrome.org";
    document.getElementById('frame-' + activeId).srcdoc = homeHTML;
    document.querySelector('#tab-' + activeId + ' .tab-title').innerText = "Vhrome.org";
  }

  function loadCSS() {
    document.getElementById('urlInput').value = "CSS.org";
    document.getElementById('frame-' + activeId).srcdoc = cssHTML;
    document.querySelector('#tab-' + activeId + ' .tab-title').innerText = "CSS UI Editor";
  }

  function loadPython() {
    document.getElementById('urlInput').value = "Python.org";
    document.getElementById('frame-' + activeId).srcdoc = pythonHTML;
    document.querySelector('#tab-' + activeId + ' .tab-title').innerText = "Python.org";
  }

  function loadNotepad() {
    document.getElementById('urlInput').value = "Notepad.org";
    document.getElementById('frame-' + activeId).srcdoc = notepadHTML;
    document.querySelector('#tab-' + activeId + ' .tab-title').innerText = "Notepad";
  }

  function setTheme(bg, tab) {
      document.documentElement.style.setProperty('--bg', bg);
      document.documentElement.style.setProperty('--tab-inactive', tab);
  }

  function navigate() {
    let input = document.getElementById('urlInput').value;
    if (input.toLowerCase() === "vhrome.org") { loadHome(); return; }
    if (input.toLowerCase() === "css.org") { loadCSS(); return; }
    if (input.toLowerCase() === "python.org") { loadPython(); return; }
    if (input.toLowerCase() === "notepad.org") { loadNotepad(); return; }
    let finalUrl = (!input.includes('.') || input.includes(' ')) ? 
        "https://www.bing.com/search?q=" + encodeURIComponent(input) : 
        (input.startsWith('http') ? input : 'https://' + input);
    document.getElementById('frame-' + activeId).srcdoc = ""; 
    document.getElementById('frame-' + activeId).src = "https://api.allorigins.win/raw?url=" + encodeURIComponent(finalUrl);
    document.querySelector('#tab-' + activeId + ' .tab-title').innerText = input;
  }

  function switchTab(id) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('iframe').forEach(f => f.classList.remove('active'));
    document.getElementById('tab-' + id).classList.add('active');
    document.getElementById('frame-' + id).classList.add('active');
    activeId = id;
  }

  function addNewTab() {
    const id = tabCount++;
    const newTab = document.createElement('div');
    newTab.className = 'tab';
    newTab.id = 'tab-' + id;
    newTab.onclick = () => switchTab(id);
    newTab.innerHTML = `<span class="tab-title">New Tab</span><span class="tab-close" onclick="event.stopPropagation(); closeTab(${id})">×</span>`;
    document.getElementById('tabStrip').insertBefore(newTab, document.querySelector('.new-tab-btn'));
    const newFrame = document.createElement('iframe');
    newFrame.id = 'frame-' + id;
    newFrame.srcdoc = homeHTML;
    document.getElementById('viewportContainer').appendChild(newFrame);
    switchTab(id);
  }

  function closeTab(id) {
    document.getElementById('tab-' + id).remove();
    document.getElementById('frame-' + id).remove();
    const tabs = document.querySelectorAll('.tab');
    if (activeId === id && tabs.length > 0) switchTab(tabs[tabs.length-1].id.split('-')[1]);
  }

  function reloadFrame() { document.getElementById('frame-' + activeId).src += ''; }
</script>
</body>
</html>
